{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport * as Notifications from 'expo-notifications';\nimport * as Speech from 'expo-speech';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nNotifications.setNotificationHandler({\n  handleNotification: function () {\n    var _handleNotification = _asyncToGenerator(function* () {\n      return {\n        shouldShowAlert: true,\n        shouldPlaySound: true,\n        shouldSetBadge: false\n      };\n    });\n    function handleNotification() {\n      return _handleNotification.apply(this, arguments);\n    }\n    return handleNotification;\n  }()\n});\nexport var scheduleWakeUpAlert = function () {\n  var _ref = _asyncToGenerator(function* (stopName, userName) {\n    yield Notifications.scheduleNotificationAsync({\n      content: {\n        title: \"Wake up! ðŸ›‘\",\n        body: `Your stop ${stopName} is next!`,\n        data: {\n          type: 'WAKE_UP'\n        }\n      },\n      trigger: null\n    });\n    var text = `Wake up, ${userName}! Your stop is next: ${stopName}.`;\n    Speech.speak(text, {\n      language: 'en',\n      rate: 0.9\n    });\n  });\n  return function scheduleWakeUpAlert(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["Notifications","Speech","Platform","setNotificationHandler","handleNotification","_handleNotification","_asyncToGenerator","shouldShowAlert","shouldPlaySound","shouldSetBadge","apply","arguments","scheduleWakeUpAlert","_ref","stopName","userName","scheduleNotificationAsync","content","title","body","data","type","trigger","text","speak","language","rate","_x","_x2"],"sources":["C:/Users/avibh/OneDrive/Desktop/HR RoadWays/frontend/utils/notifications.js"],"sourcesContent":["import * as Notifications from 'expo-notifications';\r\nimport * as Speech from 'expo-speech';\r\nimport { Platform } from 'react-native';\r\n\r\nNotifications.setNotificationHandler({\r\n  handleNotification: async () => ({\r\n    shouldShowAlert: true,\r\n    shouldPlaySound: true,\r\n    shouldSetBadge: false,\r\n  }),\r\n});\r\n\r\nexport const scheduleWakeUpAlert = async (stopName, userName) => {\r\n  // TTS Announce (Immediate if close, but here scheduling/triggering)\r\n  // Logic: In real app, triggered by location update background task.\r\n  \r\n  // 1. Push Notification\r\n  await Notifications.scheduleNotificationAsync({\r\n    content: {\r\n      title: \"Wake up! ðŸ›‘\",\r\n      body: `Your stop ${stopName} is next!`,\r\n      data: { type: 'WAKE_UP' },\r\n    },\r\n    trigger: null, // trigger immediately for demo\r\n  });\r\n\r\n  // 2. TTS\r\n  const text = `Wake up, ${userName}! Your stop is next: ${stopName}.`;\r\n  Speech.speak(text, { language: 'en', rate: 0.9 });\r\n};\r\n"],"mappings":";AAAA,OAAO,KAAKA,aAAa,MAAM,oBAAoB;AACnD,OAAO,KAAKC,MAAM,MAAM,aAAa;AAAC,OAAAC,QAAA;AAGtCF,aAAa,CAACG,sBAAsB,CAAC;EACnCC,kBAAkB;IAAA,IAAAC,mBAAA,GAAAC,iBAAA,CAAE;MAAA,OAAa;QAC/BC,eAAe,EAAE,IAAI;QACrBC,eAAe,EAAE,IAAI;QACrBC,cAAc,EAAE;MAClB,CAAC;IAAA,CAAC;IAAA,SAJFL,kBAAkBA,CAAA;MAAA,OAAAC,mBAAA,CAAAK,KAAA,OAAAC,SAAA;IAAA;IAAA,OAAlBP,kBAAkB;EAAA;AAKpB,CAAC,CAAC;AAEF,OAAO,IAAMQ,mBAAmB;EAAA,IAAAC,IAAA,GAAAP,iBAAA,CAAG,WAAOQ,QAAQ,EAAEC,QAAQ,EAAK;IAK/D,MAAMf,aAAa,CAACgB,yBAAyB,CAAC;MAC5CC,OAAO,EAAE;QACPC,KAAK,EAAE,aAAa;QACpBC,IAAI,EAAE,aAAaL,QAAQ,WAAW;QACtCM,IAAI,EAAE;UAAEC,IAAI,EAAE;QAAU;MAC1B,CAAC;MACDC,OAAO,EAAE;IACX,CAAC,CAAC;IAGF,IAAMC,IAAI,GAAG,YAAYR,QAAQ,wBAAwBD,QAAQ,GAAG;IACpEb,MAAM,CAACuB,KAAK,CAACD,IAAI,EAAE;MAAEE,QAAQ,EAAE,IAAI;MAAEC,IAAI,EAAE;IAAI,CAAC,CAAC;EACnD,CAAC;EAAA,gBAjBYd,mBAAmBA,CAAAe,EAAA,EAAAC,GAAA;IAAA,OAAAf,IAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,GAiB/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}